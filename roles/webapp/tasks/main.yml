---
- name: include setup ans install-docker task
  include_tasks: "setup.yml"
  include_tasks: "install-docker.yml"
- name: create index.html template
  ansible.builtin.template:
    src: ./templates/index.html.j2
    dest: ./index.html
- name: Create Apache container
  docker_container:
    name: webapp
    image: httpd
    state: started
    ports:
      - "{{external_port}}:{{internal_port}}"
    volumes:
      - ./index.html:/usr/local/apache2/htdocs/index.html

